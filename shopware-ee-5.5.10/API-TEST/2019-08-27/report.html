<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:13,&quot;tests&quot;:13,&quot;passes&quot;:13,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2019-08-27T08:37:04.998Z&quot;,&quot;end&quot;:&quot;2019-08-27T08:47:37.347Z&quot;,&quot;duration&quot;:632349,&quot;testsRegistered&quot;:13,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;71c34be3-e3cb-4672-a465-2a0a4ad406c8&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;ed9ca78b-1310-47e4-b49f-f81b504e203d&quot;,&quot;title&quot;:&quot;Payment in Advance test&quot;,&quot;fullFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/Tests/Selenium/Payments/PiaTest.js&quot;,&quot;file&quot;:&quot;/Tests/Selenium/Payments/PiaTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Payment in Advance test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5744,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver = await getDriver(&#x27;pia&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d431c811-93f3-4049-8cb9-ccad0ec2cfba&quot;,&quot;parentUUID&quot;:&quot;ed9ca78b-1310-47e4-b49f-f81b504e203d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Payment in Advance test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1615,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.quit()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d1e64718-8f0c-41a9-8346-c15379e6a24e&quot;,&quot;parentUUID&quot;:&quot;ed9ca78b-1310-47e4-b49f-f81b504e203d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should check the pia payment process&quot;,&quot;fullTitle&quot;:&quot;Payment in Advance test should check the pia payment process&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:66161,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/genusswelten/tees-und-zubeh/tee-zubehoer/24/glas-teekaennchen&#x27;);\nawait selectPaymentMethod(driver, paymentLabel);\n// Confirm order\nconsole.log(&#x27;click button confirm--form&#x27;);\nawait driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\nawait checkConfirmationPage(driver, paymentLabel);\nconsole.log(&#x27;expect correct bankdata&#x27;);\nconst amount = await driver.findElement(By.className(&#x27;wirecardee--bankdata-amount&#x27;)).getText();\nexpect(amount).to.include(&#x27;70,99 â‚¬&#x27;);\nconst iban = await driver.findElement(By.className(&#x27;wirecardee--bankdata-iban&#x27;)).getText();\nexpect(iban).to.include(&#x27;DE82512308000005599148&#x27;);\nconst bic = await driver.findElement(By.className(&#x27;wirecardee--bankdata-bic&#x27;)).getText();\nexpect(bic).to.include(&#x27;WIREDEMMXXX&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2390d2de-7068-4537-94c4-12ac527deed5&quot;,&quot;parentUUID&quot;:&quot;ed9ca78b-1310-47e4-b49f-f81b504e203d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2390d2de-7068-4537-94c4-12ac527deed5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:66161,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000000},{&quot;uuid&quot;:&quot;5c759f6c-387a-4b74-92e7-4f5b0f7f8d15&quot;,&quot;title&quot;:&quot;Credit Card test&quot;,&quot;fullFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/Tests/Selenium/Payments/CreditCardTest.js&quot;,&quot;file&quot;:&quot;/Tests/Selenium/Payments/CreditCardTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Credit Card test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5371,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver = await getDriver(&#x27;credit card&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;44add655-ad32-440f-bd62-fd7f8c32d592&quot;,&quot;parentUUID&quot;:&quot;5c759f6c-387a-4b74-92e7-4f5b0f7f8d15&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Credit Card test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2723,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.quit()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2ff90aad-3d95-4643-80b5-e984a0b3711e&quot;,&quot;parentUUID&quot;:&quot;5c759f6c-387a-4b74-92e7-4f5b0f7f8d15&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should check the credit card payment process&quot;,&quot;fullTitle&quot;:&quot;Credit Card test should check the credit card payment process&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:31806,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/genusswelten/tees-und-zubeh/tee-zubehoer/24/glas-teekaennchen&#x27;);\nawait selectPaymentMethod(driver, paymentLabel);\n// Save card\nconsole.log(&#x27;click #wirecardee--save-token&#x27;);\nawait driver.findElement(By.id(&#x27;wirecardee--save-token&#x27;)).click();\n// Confirm order\nconsole.log(&#x27;click button confirm--form&#x27;);\nawait driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\n// Fill out credit card iframe\nconsole.log(&#x27;wait for .wirecard-seamless-frame&#x27;);\nawait driver.wait(until.elementLocated(By.className(&#x27;wirecard-seamless-frame&#x27;)), 20000);\nconsole.log(&#x27;wait for switch to iframe .wirecard-seamless-frame&#x27;);\nawait driver.wait(until.ableToSwitchToFrame(By.className(&#x27;wirecard-seamless-frame&#x27;)));\nconsole.log(&#x27;wait for #account_number&#x27;);\nawait driver.wait(until.elementLocated(By.id(&#x27;account_number&#x27;)), 20000);\nawait asyncForEach(Object.keys(formFields), async field =&gt; {\n    console.log(`setting ${field} to ${formFields[field]}`);\n    await driver.findElement(By.id(field)).sendKeys(formFields[field]);\n});\nawait driver.findElement(By.css(&#x27;#expiration_month_list &gt; option[value=\\&#x27;01\\&#x27;]&#x27;)).click();\nawait driver.findElement(By.css(&#x27;#expiration_year_list &gt; option[value=\\&#x27;2030\\&#x27;]&#x27;)).click();\n// Switch back from iframe and click Send button\nconsole.log(&#x27;switch back from iframe to default content&#x27;);\nawait driver.switchTo().defaultContent();\nconsole.log(&#x27;wait for #wirecardee-credit-card--form-submit&#x27;);\nawait driver.wait(until.elementLocated(By.id(&#x27;wirecardee-credit-card--form-submit&#x27;)));\nconsole.log(&#x27;click #wirecardee-credit-card--form-submit&#x27;);\nawait driver.findElement(By.id(&#x27;wirecardee-credit-card--form-submit&#x27;)).click();\nawait checkConfirmationPage(driver, paymentLabel);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e44f2b0e-4542-467f-8bd5-c9ba7db8e970&quot;,&quot;parentUUID&quot;:&quot;5c759f6c-387a-4b74-92e7-4f5b0f7f8d15&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e44f2b0e-4542-467f-8bd5-c9ba7db8e970&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:31806,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000000},{&quot;uuid&quot;:&quot;1819761c-22dd-4d1a-96c5-a6ca0d773576&quot;,&quot;title&quot;:&quot;Credit Card One-Click Checkout test (NOTE: has requirements)&quot;,&quot;fullFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/Tests/Selenium/Payments/CreditCardOneClickTest.js&quot;,&quot;file&quot;:&quot;/Tests/Selenium/Payments/CreditCardOneClickTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Credit Card One-Click Checkout test (NOTE: has requirements) \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4752,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver = await getDriver(&#x27;credit card one click&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8293018e-b251-458e-9d0a-4745311f4211&quot;,&quot;parentUUID&quot;:&quot;1819761c-22dd-4d1a-96c5-a6ca0d773576&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Credit Card One-Click Checkout test (NOTE: has requirements) \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1649,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.quit()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;29ecbd32-3c15-487b-9a78-2e62d69a0f83&quot;,&quot;parentUUID&quot;:&quot;1819761c-22dd-4d1a-96c5-a6ca0d773576&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should check the credit card one-click payment process&quot;,&quot;fullTitle&quot;:&quot;Credit Card One-Click Checkout test (NOTE: has requirements) should check the credit card one-click payment process&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21810,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/genusswelten/tees-und-zubeh/tee-zubehoer/24/glas-teekaennchen&#x27;);\nawait selectPaymentMethod(driver, paymentLabel);\nawait driver.findElement(By.id(&#x27;wirecardee--token-&#x27; + tokenId)).click();\n// Confirm order\nconsole.log(&#x27;click button confirm--form&#x27;);\nawait driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\nawait checkConfirmationPage(driver, paymentLabel);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3792b66a-aa49-464b-86ef-cf67a1bcaf80&quot;,&quot;parentUUID&quot;:&quot;1819761c-22dd-4d1a-96c5-a6ca0d773576&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3792b66a-aa49-464b-86ef-cf67a1bcaf80&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:21810,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000000},{&quot;uuid&quot;:&quot;c93c7a3a-b802-4741-b3e5-51cec5fa588c&quot;,&quot;title&quot;:&quot;SEPA Direct Debit test&quot;,&quot;fullFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/Tests/Selenium/Payments/SepaTest.js&quot;,&quot;file&quot;:&quot;/Tests/Selenium/Payments/SepaTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;SEPA Direct Debit test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5219,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver = await getDriver(&#x27;sepa&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a2100715-837f-4168-83fd-25fa5539d146&quot;,&quot;parentUUID&quot;:&quot;c93c7a3a-b802-4741-b3e5-51cec5fa588c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;SEPA Direct Debit test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2105,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.quit()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;696439da-aea6-4e53-af98-a2c96c738ed9&quot;,&quot;parentUUID&quot;:&quot;c93c7a3a-b802-4741-b3e5-51cec5fa588c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should check the sepa payment process&quot;,&quot;fullTitle&quot;:&quot;SEPA Direct Debit test should check the sepa payment process&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24522,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/genusswelten/tees-und-zubeh/tee-zubehoer/24/glas-teekaennchen&#x27;);\nawait selectPaymentMethod(driver, paymentLabel);\n// Fill sepa fields\nawait asyncForEach(Object.keys(formFields), async field =&gt; {\n    await driver.findElement(By.id(field)).sendKeys(formFields[field]);\n});\n// Confirm order\nconsole.log(&#x27;click button confirm--form&#x27;);\nawait driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\n// Confirm sepa mandate in modal dialog\nconsole.log(&#x27;wait for .wirecardee--sepa-mandate&#x27;);\nawait driver.wait(until.elementLocated(By.className(&#x27;wirecardee--sepa-mandate&#x27;)), 10000);\nconsole.log(&#x27;click .wirecardee-sepa--confirm-check&#x27;);\nawait driver.findElement(By.id(&#x27;wirecardee-sepa--confirm-check&#x27;)).click();\nconsole.log(&#x27;click .wirecardee-sepa--confirm-button&#x27;);\nawait driver.findElement(By.id(&#x27;wirecardee-sepa--confirm-button&#x27;)).click();\nawait checkConfirmationPage(driver, paymentLabel);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0e7880cd-ff99-422c-8798-38410d603d3f&quot;,&quot;parentUUID&quot;:&quot;c93c7a3a-b802-4741-b3e5-51cec5fa588c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0e7880cd-ff99-422c-8798-38410d603d3f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:24522,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000000},{&quot;uuid&quot;:&quot;478b6b1d-bb14-431b-84c3-7903de64db96&quot;,&quot;title&quot;:&quot;Sofort. test&quot;,&quot;fullFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/Tests/Selenium/Payments/SofortTest.js&quot;,&quot;file&quot;:&quot;/Tests/Selenium/Payments/SofortTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Sofort. test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4692,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver = await getDriver(&#x27;sofort&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;142b2a7a-22e8-4882-b162-731643b1f1a8&quot;,&quot;parentUUID&quot;:&quot;478b6b1d-bb14-431b-84c3-7903de64db96&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Sofort. test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1625,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.quit()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;475b9cbc-9052-4422-822d-13b4daa705f4&quot;,&quot;parentUUID&quot;:&quot;478b6b1d-bb14-431b-84c3-7903de64db96&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should check the sofort payment process&quot;,&quot;fullTitle&quot;:&quot;Sofort. test should check the sofort payment process&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:65121,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/genusswelten/tees-und-zubeh/tee-zubehoer/24/glas-teekaennchen&#x27;);\nawait selectPaymentMethod(driver, paymentLabel);\n// Confirm order\nconsole.log(&#x27;click button confirm--form&#x27;);\nawait driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\n// Wait for Sofort. page and fill out forms\nconsole.log(&#x27;wait for #MultipaysSessionSenderCountryId&#x27;);\nawait driver.wait(until.elementLocated(By.id(&#x27;MultipaysSessionSenderCountryId&#x27;)), 20000);\nawait driver.findElement(By.css(&#x27;#MultipaysSessionSenderCountryId &gt; option[value=\\&#x27;AT\\&#x27;]&#x27;)).click();\nawait driver.findElement(By.id(&#x27;BankCodeSearch&#x27;)).sendKeys(formFields.bankCode);\nconsole.log(&#x27;wait for .js-bank-searcher-result-list&#x27;);\nawait driver.wait(until.elementLocated(By.className(&#x27;js-bank-searcher-result-list&#x27;)), 5000);\nawait driver.findElement(By.css(&#x27;button.primary&#x27;)).click();\nconsole.log(&#x27;wait for #BackendFormLOGINNAMEUSERID&#x27;);\nawait driver.wait(until.elementLocated(By.id(&#x27;BackendFormLOGINNAMEUSERID&#x27;)), 20000);\nawait driver.findElement(By.id(&#x27;BackendFormLOGINNAMEUSERID&#x27;)).sendKeys(formFields.userId);\nawait driver.findElement(By.id(&#x27;BackendFormUSERPIN&#x27;)).sendKeys(formFields.password, Key.ENTER);\nconsole.log(&#x27;wait for #account-1&#x27;);\nawait driver.wait(until.elementLocated(By.id(&#x27;account-1&#x27;)), 20000);\nawait driver.findElement(By.id(&#x27;account-1&#x27;)).click();\nawait driver.findElement(By.css(&#x27;button.primary&#x27;)).click();\nconsole.log(&#x27;wait for #BackendFormTAN&#x27;);\nawait driver.wait(until.elementLocated(By.id(&#x27;BackendFormTAN&#x27;)), 20000);\nawait driver.findElement(By.id(&#x27;BackendFormTAN&#x27;)).sendKeys(formFields.tan, Key.ENTER);\nawait waitForAlert(driver, 20000);\nawait checkConfirmationPage(driver, paymentLabel);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;50264739-c8bf-4f65-ba22-4121e9a6cecc&quot;,&quot;parentUUID&quot;:&quot;478b6b1d-bb14-431b-84c3-7903de64db96&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;50264739-c8bf-4f65-ba22-4121e9a6cecc&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:65121,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000000},{&quot;uuid&quot;:&quot;4193c5ae-7531-400c-a127-cd22b8ba745f&quot;,&quot;title&quot;:&quot;Payment on Invoice test&quot;,&quot;fullFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/Tests/Selenium/Payments/PoiTest.js&quot;,&quot;file&quot;:&quot;/Tests/Selenium/Payments/PoiTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Payment on Invoice test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5419,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver = await getDriver(&#x27;poi&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;472213a2-bfc4-4c55-bc97-6a8596d4f20c&quot;,&quot;parentUUID&quot;:&quot;4193c5ae-7531-400c-a127-cd22b8ba745f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Payment on Invoice test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2181,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.quit()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fb3b2361-0d4d-4d09-a348-fe4e60da8e73&quot;,&quot;parentUUID&quot;:&quot;4193c5ae-7531-400c-a127-cd22b8ba745f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should check the poi payment process&quot;,&quot;fullTitle&quot;:&quot;Payment on Invoice test should check the poi payment process&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24752,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/genusswelten/tees-und-zubeh/tee-zubehoer/24/glas-teekaennchen&#x27;);\nawait selectPaymentMethod(driver, paymentLabel);\n// Confirm order\nconsole.log(&#x27;click button confirm--form&#x27;);\nawait driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\nawait checkConfirmationPage(driver, paymentLabel);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;87e2d05b-6621-483e-97ba-a46e3b938ad4&quot;,&quot;parentUUID&quot;:&quot;4193c5ae-7531-400c-a127-cd22b8ba745f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;87e2d05b-6621-483e-97ba-a46e3b938ad4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:24752,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000000},{&quot;uuid&quot;:&quot;ba6ee75a-7693-4aca-82fb-929b8b8e4cf7&quot;,&quot;title&quot;:&quot;UnionPay International test&quot;,&quot;fullFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/Tests/Selenium/Payments/UpiTest.js&quot;,&quot;file&quot;:&quot;/Tests/Selenium/Payments/UpiTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;UnionPay International test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10209,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver = await getDriver(&#x27;upi&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a6df3438-e45d-46d6-8e07-6f7d91805a50&quot;,&quot;parentUUID&quot;:&quot;ba6ee75a-7693-4aca-82fb-929b8b8e4cf7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;UnionPay International test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1466,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.quit()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c1b8f259-b5f2-40f5-ad33-a28b143a81d7&quot;,&quot;parentUUID&quot;:&quot;ba6ee75a-7693-4aca-82fb-929b8b8e4cf7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should check the unionpay international payment process&quot;,&quot;fullTitle&quot;:&quot;UnionPay International test should check the unionpay international payment process&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:30242,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/genusswelten/tees-und-zubeh/tee-zubehoer/24/glas-teekaennchen&#x27;);\nawait selectPaymentMethod(driver, paymentLabel);\n// Confirm order\nconsole.log(&#x27;click button confirm--form&#x27;);\nawait driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\n// Fill out credit card iframe\nconsole.log(&#x27;wait for .wirecard-seamless-frame&#x27;);\nawait driver.wait(until.elementLocated(By.className(&#x27;wirecard-seamless-frame&#x27;)), 20000);\nconsole.log(&#x27;wait for switch to iframe .wirecard-seamless-frame&#x27;);\nawait driver.wait(until.ableToSwitchToFrame(By.className(&#x27;wirecard-seamless-frame&#x27;)));\nconsole.log(&#x27;wait for #account_number&#x27;);\nawait driver.wait(until.elementLocated(By.id(&#x27;account_number&#x27;)), 20000);\nawait asyncForEach(Object.keys(formFields), async field =&gt; {\n    console.log(`setting ${field} to ${formFields[field]}`);\n    await driver.findElement(By.id(field)).sendKeys(formFields[field]);\n});\nawait driver.findElement(By.css(&#x27;#expiration_month_list &gt; option[value=\\&#x27;01\\&#x27;]&#x27;)).click();\nawait driver.findElement(By.css(&#x27;#expiration_year_list &gt; option[value=\\&#x27;2030\\&#x27;]&#x27;)).click();\n// Switch back from iframe and click Send button\nconsole.log(&#x27;switch back from iframe to default content&#x27;);\nawait driver.switchTo().defaultContent();\nconsole.log(&#x27;wait for #wirecardee-credit-card--form-submit&#x27;);\nawait driver.wait(until.elementLocated(By.id(&#x27;wirecardee-credit-card--form-submit&#x27;)));\nconsole.log(&#x27;click #wirecardee-credit-card--form-submit&#x27;);\nawait driver.findElement(By.id(&#x27;wirecardee-credit-card--form-submit&#x27;)).click();\nawait checkConfirmationPage(driver, paymentLabel);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b8774a1b-8bc5-4322-901c-bf68f0f3a03f&quot;,&quot;parentUUID&quot;:&quot;ba6ee75a-7693-4aca-82fb-929b8b8e4cf7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b8774a1b-8bc5-4322-901c-bf68f0f3a03f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:30242,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000000},{&quot;uuid&quot;:&quot;e9261464-c2bb-4fec-9b93-0411c0ef9123&quot;,&quot;title&quot;:&quot;Alipay Cross-border test&quot;,&quot;fullFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/Tests/Selenium/Payments/AlipayTest.js&quot;,&quot;file&quot;:&quot;/Tests/Selenium/Payments/AlipayTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Alipay Cross-border test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10665,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver = await getDriver(&#x27;alipay&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a239c94d-2781-4336-ba6e-a9e1a120b8f9&quot;,&quot;parentUUID&quot;:&quot;e9261464-c2bb-4fec-9b93-0411c0ef9123&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Alipay Cross-border test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2475,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.quit()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b380153d-1395-4733-850b-66b3231473e6&quot;,&quot;parentUUID&quot;:&quot;e9261464-c2bb-4fec-9b93-0411c0ef9123&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should check the alipay crossborder payment process&quot;,&quot;fullTitle&quot;:&quot;Alipay Cross-border test should check the alipay crossborder payment process&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:42342,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/genusswelten/tees-und-zubeh/tee-zubehoer/24/glas-teekaennchen&#x27;);\nawait selectPaymentMethod(driver, paymentLabel);\n// Confirm order\nconsole.log(&#x27;click button confirm--form&#x27;);\nawait driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\nconsole.log(&#x27;wait for .payAmount-area&#x27;);\nawait driver.wait(until.elementLocated(By.css(&#x27;.payAmount-area&#x27;)), 20000);\nconst paymentContent = await driver.findElement(By.css(&#x27;.payAmount-area&#x27;)).getText();\nexpect(paymentContent).to.include(&#x27;70.99 EUR&#x27;);\n// We cannot perform the full payment process because of a captcha at Alipay login page\n/*\nawait driver.wait(until.elementLocated(By.css(&#x27;.mi-input-account&#x27;)), 20000);\nawait driver.findElement(By.css(&#x27;.mi-input-account&#x27;)).sendKeys(formFields.email);\nawait driver.findElement(By.id(&#x27;payPasswd_rsainput&#x27;)).sendKeys(formFields.password);\nconsole.log(&#x27;wait for .sixDigitPassword&#x27;);\nawait driver.wait(until.elementLocated(By.css(&#x27;.sixDigitPassword&#x27;)), 15000);\nawait driver.findElement(By.css(&#x27;.sixDigitPassword i&#x27;)).sendKeys(formFields.paymentPasswordDigit);\nawait driver.findElement(By.id(&#x27;J_authSubmit&#x27;)).click();\nawait waitForAlert(driver, 20000);\nawait checkConfirmationPage(driver, paymentLabel);\n*/&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ad6eab5e-2f81-4326-a3d6-87b8fb4bc514&quot;,&quot;parentUUID&quot;:&quot;e9261464-c2bb-4fec-9b93-0411c0ef9123&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ad6eab5e-2f81-4326-a3d6-87b8fb4bc514&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:42342,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000000},{&quot;uuid&quot;:&quot;f5c81097-4250-4788-a1dc-5d3d4e07a9a9&quot;,&quot;title&quot;:&quot;PayPal test&quot;,&quot;fullFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/Tests/Selenium/Payments/PaypalTest.js&quot;,&quot;file&quot;:&quot;/Tests/Selenium/Payments/PaypalTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;PayPal test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5458,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver = await getDriver(&#x27;paypal&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;49d95b33-1677-4b73-8616-a37204f9d30c&quot;,&quot;parentUUID&quot;:&quot;f5c81097-4250-4788-a1dc-5d3d4e07a9a9&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;PayPal test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2043,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.quit()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fb6fad47-db1d-493f-a212-8acf7097a320&quot;,&quot;parentUUID&quot;:&quot;f5c81097-4250-4788-a1dc-5d3d4e07a9a9&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should check the paypal payment process&quot;,&quot;fullTitle&quot;:&quot;PayPal test should check the paypal payment process&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:71538,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/genusswelten/tees-und-zubeh/tee-zubehoer/24/glas-teekaennchen&#x27;);\nawait selectPaymentMethod(driver, paymentLabel);\n// Confirm order\nconsole.log(&#x27;click button confirm--form&#x27;);\nawait driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\ntry {\n    console.log(&#x27;wait for #email&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;email&#x27;)), 10000);\n    await driver.findElement(By.id(&#x27;email&#x27;)).sendKeys(formFields.email);\n    console.log(&#x27;wait for #password&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;password&#x27;)), 10000);\n    await driver.findElement(By.id(&#x27;password&#x27;)).sendKeys(formFields.password, Key.ENTER);\n    console.log(&#x27;wait for #confirmButtonTop&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;confirmButtonTop&#x27;)));\n    console.log(&#x27;#confirmButtonTop located&#x27;);\n    await driver.findElement(By.id(&#x27;confirmButtonTop&#x27;)).click();\n    console.log(&#x27;#confirmButtonTop clicked&#x27;);\n    await waitForAlert(driver, 25000);\n    await checkConfirmationPage(driver, paymentLabel);\n} catch (e) {\n    console.log(&#x27;wait for #btnNext&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;btnNext&#x27;)), 10000);\n    console.log(&#x27;wait for #email&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;email&#x27;)), 10000);\n    await driver.findElement(By.id(&#x27;email&#x27;)).sendKeys(Key.ENTER);\n    await waitUntilOverlayIsNotVisible(driver, By.className(&#x27;spinnerWithLockIcon&#x27;));\n    console.log(&#x27;wait for #btnLogin&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;btnLogin&#x27;)), 25000);\n    console.log(&#x27;wait for #password&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;password&#x27;)), 10000);\n    await driver.findElement(By.id(&#x27;password&#x27;)).sendKeys(formFields.password, Key.ENTER);\n    await waitUntilOverlayIsNotVisible(driver, By.id(&#x27;preloaderSpinner&#x27;));\n    console.log(&#x27;wait for #confirmButtonTop&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;confirmButtonTop&#x27;)), 25000);\n    await waitUntilOverlayIsNotVisible(driver, By.id(&#x27;preloaderSpinner&#x27;));\n    console.log(&#x27;click #confirmButtonTop&#x27;);\n    await driver.wait(driver.findElement(By.id(&#x27;confirmButtonTop&#x27;)).click(), 10000);\n    await waitForAlert(driver, 25000);\n    await checkConfirmationPage(driver, paymentLabel);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1bfa7527-10f1-4230-91f9-e5a7b6c4648b&quot;,&quot;parentUUID&quot;:&quot;f5c81097-4250-4788-a1dc-5d3d4e07a9a9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1bfa7527-10f1-4230-91f9-e5a7b6c4648b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:71538,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000000},{&quot;uuid&quot;:&quot;33b275df-1588-4591-b98b-ff208e609a77&quot;,&quot;title&quot;:&quot;iDEAL test&quot;,&quot;fullFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/Tests/Selenium/Payments/IdealTest.js&quot;,&quot;file&quot;:&quot;/Tests/Selenium/Payments/IdealTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;iDEAL test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10735,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver = await getDriver(&#x27;ideal&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;01f75898-a6c4-48d8-8ccc-9232be12977a&quot;,&quot;parentUUID&quot;:&quot;33b275df-1588-4591-b98b-ff208e609a77&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;iDEAL test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1970,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.quit()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c03b0bee-0c95-46f2-854c-a510b61882c8&quot;,&quot;parentUUID&quot;:&quot;33b275df-1588-4591-b98b-ff208e609a77&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should check the ideal payment process&quot;,&quot;fullTitle&quot;:&quot;iDEAL test should check the ideal payment process&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:29932,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/genusswelten/tees-und-zubeh/tee-zubehoer/24/glas-teekaennchen&#x27;);\nawait selectPaymentMethod(driver, paymentLabel);\n// Select ideal bank\nconsole.log(&#x27;select &#x27; + idealBank + &#x27; option&#x27;);\nawait driver.findElement(By.css(&#x27;option[value=\\&#x27;&#x27; + idealBank + &#x27;\\&#x27;]&#x27;)).click();\n// Confirm order\nconsole.log(&#x27;click button confirm--form&#x27;);\nawait driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\nconsole.log(&#x27;wait for form .btnLink&#x27;);\nawait driver.wait(until.elementLocated(By.css(&#x27;form .btnLink&#x27;)), 20000);\nawait driver.findElement(By.css(&#x27;form .btnLink&#x27;)).click();\nawait checkConfirmationPage(driver, paymentLabel);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;93a29216-246e-4248-92d4-008474fb75ef&quot;,&quot;parentUUID&quot;:&quot;33b275df-1588-4591-b98b-ff208e609a77&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;93a29216-246e-4248-92d4-008474fb75ef&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:29932,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000000},{&quot;uuid&quot;:&quot;0eeb3878-5ae0-49ce-a812-4475c04222b9&quot;,&quot;title&quot;:&quot;Guaranteed Invoice by Wirecard test&quot;,&quot;fullFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/Tests/Selenium/Payments/RatepayTest.js&quot;,&quot;file&quot;:&quot;/Tests/Selenium/Payments/RatepayTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Guaranteed Invoice by Wirecard test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10625,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver = await getDriver(&#x27;ratepay&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;68b981ab-ad2c-4914-a657-bb2fb93c2c68&quot;,&quot;parentUUID&quot;:&quot;0eeb3878-5ae0-49ce-a812-4475c04222b9&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Guaranteed Invoice by Wirecard test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2518,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.quit()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2135aa7e-9446-4fbc-b088-a5528eece073&quot;,&quot;parentUUID&quot;:&quot;0eeb3878-5ae0-49ce-a812-4475c04222b9&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should check the ratepay invoice process&quot;,&quot;fullTitle&quot;:&quot;Guaranteed Invoice by Wirecard test should check the ratepay invoice process&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:32721,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/genusswelten/tees-und-zubeh/tee-zubehoer/24/glas-teekaennchen&#x27;);\nconsole.log(&#x27;change shipping address&#x27;);\nawait driver.findElement(By.css(&#x27;.information--panel-item-shipping a[data-address-selection=\&quot;true\&quot;]&#x27;)).click();\nawait waitUntilOverlayIsStale(driver, By.className(&#x27;js--overlay&#x27;));\nconsole.log(&#x27;wait for .address-manager--selection-form&#x27;);\nawait driver.wait(until.elementLocated(By.css(&#x27;.address-manager--selection-form&#x27;)));\nawait driver.findElement(By.css(&#x27;.address-manager--selection-form button&#x27;)).click();\nconsole.log(&#x27;wait for .choose-different-address&#x27;);\nawait driver.wait(until.elementLocated(By.className(&#x27;choose-different-address&#x27;)));\nawait selectPaymentMethod(driver, paymentLabel);\n// Select birthday\nconsole.log(&#x27;select birthday 1/1/2000 option&#x27;);\nawait driver.findElement(By.css(&#x27;.wirecardee--birthday-year option[value=\\&#x27;2000\\&#x27;]&#x27;)).click();\nconsole.log(&#x27;confirm terms&#x27;);\nawait driver.findElement(By.id(&#x27;wirecardee--tac&#x27;)).click();\n// Confirm order\nconsole.log(&#x27;click button confirm--form&#x27;);\nawait driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\nawait checkConfirmationPage(driver, paymentLabel);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e0b2efef-3861-4b04-9760-e34e03cf5c7e&quot;,&quot;parentUUID&quot;:&quot;0eeb3878-5ae0-49ce-a812-4475c04222b9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e0b2efef-3861-4b04-9760-e34e03cf5c7e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:32721,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000000},{&quot;uuid&quot;:&quot;45bc2408-2d34-4a8b-b5ff-e597f259efc9&quot;,&quot;title&quot;:&quot;default test&quot;,&quot;fullFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/Tests/Selenium/Payments/DefaultTest.js&quot;,&quot;file&quot;:&quot;/Tests/Selenium/Payments/DefaultTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;default test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6197,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver = await getDriver(&#x27;default&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8542cac2-cd7f-4d8f-b18f-5077ab3685f8&quot;,&quot;parentUUID&quot;:&quot;45bc2408-2d34-4a8b-b5ff-e597f259efc9&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;default test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2026,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.quit()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8f55eaac-d32d-441f-b9b3-c38dc94e5a9a&quot;,&quot;parentUUID&quot;:&quot;45bc2408-2d34-4a8b-b5ff-e597f259efc9&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should check the default checkout&quot;,&quot;fullTitle&quot;:&quot;default test should check the default checkout&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15338,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/genusswelten/tees-und-zubeh/tee-zubehoer/24/glas-teekaennchen&#x27;);\n// Go to payment selection page select \&quot;prepayment\&quot;\nawait driver.findElement(By.className(&#x27;btn--change-payment&#x27;)).click();\n// Check if all wirecard payments are present\nawait asyncForEach(wirecardPaymentLabels, async paymentLabel =&gt; {\n    await driver.findElement(By.xpath(\&quot;//*[contains(text(), &#x27;\&quot; + paymentLabel + \&quot;&#x27;)]\&quot;));\n});\nawait driver.findElement(By.xpath(\&quot;//*[contains(text(), &#x27;Vorkasse&#x27;)]\&quot;)).click();\n// Go back to checkout page and test if payment method has been selected\nawait waitUntilOverlayIsStale(driver, By.className(&#x27;js--overlay&#x27;));\nawait driver.findElement(By.className(&#x27;main--actions&#x27;)).click();\n// Check AGB and confirm order\nawait driver.findElement(By.id(&#x27;sAGB&#x27;)).click();\nconsole.log(&#x27;click button confirm--form&#x27;);\nawait driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\nawait checkConfirmationPage(driver, &#x27;Vorkasse&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b4efe31f-ec37-47c0-9587-fdf65ea06f71&quot;,&quot;parentUUID&quot;:&quot;45bc2408-2d34-4a8b-b5ff-e597f259efc9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b4efe31f-ec37-47c0-9587-fdf65ea06f71&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:15338,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000000},{&quot;uuid&quot;:&quot;b1572443-df17-44ca-87e3-8f20f0679817&quot;,&quot;title&quot;:&quot;Credit Card 3-D Secure test&quot;,&quot;fullFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/Tests/Selenium/Payments/CreditCardThreeDTest.js&quot;,&quot;file&quot;:&quot;/Tests/Selenium/Payments/CreditCardThreeDTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Credit Card 3-D Secure test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8947,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver = await getDriver(&#x27;credit card 3ds&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;42c36a13-c7a4-4ec7-91d1-bc8a77c49873&quot;,&quot;parentUUID&quot;:&quot;b1572443-df17-44ca-87e3-8f20f0679817&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Credit Card 3-D Secure test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2370,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.quit()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4820696a-33be-4f03-9de8-3befe304c839&quot;,&quot;parentUUID&quot;:&quot;b1572443-df17-44ca-87e3-8f20f0679817&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should check the credit card 3ds payment process&quot;,&quot;fullTitle&quot;:&quot;Credit Card 3-D Secure test should check the credit card 3ds payment process&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:55218,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/wohnwelten/moebel/68/kommode-shabby-chic&#x27;);\nawait selectPaymentMethod(driver, paymentLabel);\ntry {\n    // Do not use saved card\n    console.log(&#x27;click #wirecardee--token-no-card&#x27;);\n    await driver.findElement(By.id(&#x27;wirecardee--token-no-card&#x27;)).click();\n    // Confirm order\n    console.log(&#x27;click button confirm--form&#x27;);\n    await driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\n    // Fill out credit card iframe\n    console.log(&#x27;wait for .wirecard-seamless-frame&#x27;);\n    await driver.wait(until.elementLocated(By.className(&#x27;wirecard-seamless-frame&#x27;)), 20000);\n    console.log(&#x27;wait for switch to iframe .wirecard-seamless-frame&#x27;);\n    await driver.wait(until.ableToSwitchToFrame(By.className(&#x27;wirecard-seamless-frame&#x27;)));\n    console.log(&#x27;wait for #account_number&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;account_number&#x27;)), 20000);\n    await asyncForEach(Object.keys(formFields), async field =&gt; {\n        await driver.findElement(By.id(field)).sendKeys(formFields[field]);\n    });\n    await driver.findElement(By.css(&#x27;#expiration_month_list &gt; option[value=\\&#x27;01\\&#x27;]&#x27;)).click();\n    await driver.findElement(By.css(&#x27;#expiration_year_list &gt; option[value=\\&#x27;2023\\&#x27;]&#x27;)).click();\n    // Switch back from iframe and click Send button\n    console.log(&#x27;switch back from iframe to default content&#x27;);\n    await driver.switchTo().defaultContent();\n    console.log(&#x27;wait for #wirecardee-credit-card--form-submit&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;wirecardee-credit-card--form-submit&#x27;)), 10000);\n    console.log(&#x27;click #wirecardee-credit-card--form-submit&#x27;);\n    await driver.findElement(By.id(&#x27;wirecardee-credit-card--form-submit&#x27;)).click();\n    console.log(&#x27;wait for #password&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;password&#x27;)), 20000);\n    await driver.findElement(By.id(&#x27;password&#x27;)).sendKeys(config.payments.creditCardThreeD.password, Key.ENTER);\n    await waitForAlert(driver, 20000);\n    await checkConfirmationPage(driver, paymentLabel);\n} catch (e) {\n    // Confirm order\n    console.log(&#x27;click button confirm--form&#x27;);\n    await driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\n    // Fill out credit card iframe\n    console.log(&#x27;wait for .wirecard-seamless-frame&#x27;);\n    await driver.wait(until.elementLocated(By.className(&#x27;wirecard-seamless-frame&#x27;)), 20000);\n    console.log(&#x27;wait for switch to iframe .wirecard-seamless-frame&#x27;);\n    await driver.wait(until.ableToSwitchToFrame(By.className(&#x27;wirecard-seamless-frame&#x27;)));\n    console.log(&#x27;wait for #account_number&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;account_number&#x27;)), 20000);\n    await asyncForEach(Object.keys(formFields), async field =&gt; {\n        await driver.findElement(By.id(field)).sendKeys(formFields[field]);\n    });\n    await driver.findElement(By.css(&#x27;#expiration_month_list &gt; option[value=\\&#x27;01\\&#x27;]&#x27;)).click();\n    await driver.findElement(By.css(&#x27;#expiration_year_list &gt; option[value=\\&#x27;2023\\&#x27;]&#x27;)).click();\n    // Switch back from iframe and click Send button\n    console.log(&#x27;switch back from iframe to default content&#x27;);\n    await driver.switchTo().defaultContent();\n    console.log(&#x27;wait for #wirecardee-credit-card--form-submit&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;wirecardee-credit-card--form-submit&#x27;)), 10000);\n    console.log(&#x27;click #wirecardee-credit-card--form-submit&#x27;);\n    await driver.findElement(By.id(&#x27;wirecardee-credit-card--form-submit&#x27;)).click();\n    console.log(&#x27;wait for #password&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;password&#x27;)), 20000);\n    await driver.findElement(By.id(&#x27;password&#x27;)).sendKeys(config.payments.creditCardThreeD.password, Key.ENTER);\n    await waitForAlert(driver, 20000);\n    await checkConfirmationPage(driver, paymentLabel);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b74705d2-fcfa-40f6-b1fb-3e5d429dc669&quot;,&quot;parentUUID&quot;:&quot;b1572443-df17-44ca-87e3-8f20f0679817&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b74705d2-fcfa-40f6-b1fb-3e5d429dc669&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:55218,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:6000000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;5.2.0&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;report&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;useInlineDiffs&quot;:false},&quot;version&quot;:&quot;4.0.1&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;id&quot;:&quot;default&quot;,&quot;reportFilename&quot;:&quot;report&quot;},&quot;version&quot;:&quot;4.0.1&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;report&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;WirecardElasticEngine&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report/assets&quot;,&quot;jsonFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/mochawesome-report/report.json&quot;,&quot;htmlFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/mochawesome-report/report.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>