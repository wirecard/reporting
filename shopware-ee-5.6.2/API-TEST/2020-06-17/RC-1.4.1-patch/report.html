<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:14,&quot;tests&quot;:14,&quot;passes&quot;:14,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2020-06-17T10:01:14.150Z&quot;,&quot;end&quot;:&quot;2020-06-17T10:15:07.505Z&quot;,&quot;duration&quot;:833355,&quot;testsRegistered&quot;:14,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;cb59539a-5714-4898-9c66-18a90e94d585&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;7cfbd63a-470c-4ab2-b949-8021cbce3b77&quot;,&quot;title&quot;:&quot;Payment in Advance test&quot;,&quot;fullFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/Tests/Selenium/Payments/PiaTest.js&quot;,&quot;file&quot;:&quot;/Tests/Selenium/Payments/PiaTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Payment in Advance test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6443,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver = await getDriver(&#x27;pia&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5a09ff98-982c-4489-a301-cbf9ed3a0c82&quot;,&quot;parentUUID&quot;:&quot;7cfbd63a-470c-4ab2-b949-8021cbce3b77&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Payment in Advance test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2169,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.quit()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c291b079-17eb-413b-bd47-1e7c27251e49&quot;,&quot;parentUUID&quot;:&quot;7cfbd63a-470c-4ab2-b949-8021cbce3b77&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should check the pia payment process&quot;,&quot;fullTitle&quot;:&quot;Payment in Advance test should check the pia payment process&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:67039,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/genusswelten/tees-und-zubeh/tee-zubehoer/24/glas-teekaennchen&#x27;);\nawait selectPaymentMethod(driver, paymentLabel);\n// Confirm order\nconsole.log(&#x27;click button confirm--form&#x27;);\nawait driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\nawait checkConfirmationPage(driver, paymentLabel);\nconsole.log(&#x27;expect correct bankdata&#x27;);\nconst amount = await driver.findElement(By.className(&#x27;wirecardee--bankdata-amount&#x27;)).getText();\nexpect(amount).to.include(&#x27;70,99 â‚¬&#x27;);\nconst iban = await driver.findElement(By.className(&#x27;wirecardee--bankdata-iban&#x27;)).getText();\nexpect(iban).to.include(&#x27;DE82512308000005599148&#x27;);\nconst bic = await driver.findElement(By.className(&#x27;wirecardee--bankdata-bic&#x27;)).getText();\nexpect(bic).to.include(&#x27;WIREDEMMXXX&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;71a8e853-77a8-472d-82d2-909564fea2b8&quot;,&quot;parentUUID&quot;:&quot;7cfbd63a-470c-4ab2-b949-8021cbce3b77&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;71a8e853-77a8-472d-82d2-909564fea2b8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:67039,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000000},{&quot;uuid&quot;:&quot;ccf448ef-1eac-455d-a142-c9fcc547dfce&quot;,&quot;title&quot;:&quot;Credit Card test&quot;,&quot;fullFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/Tests/Selenium/Payments/CreditCardTest.js&quot;,&quot;file&quot;:&quot;/Tests/Selenium/Payments/CreditCardTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Credit Card test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6063,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver = await getDriver(&#x27;credit card&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6e9879f9-7cd7-4e2b-9f33-26796ee72f20&quot;,&quot;parentUUID&quot;:&quot;ccf448ef-1eac-455d-a142-c9fcc547dfce&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Credit Card test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1873,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.quit()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;71272c84-a2f4-4d67-ad6b-6cda0d2677f8&quot;,&quot;parentUUID&quot;:&quot;ccf448ef-1eac-455d-a142-c9fcc547dfce&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should check the credit card payment process&quot;,&quot;fullTitle&quot;:&quot;Credit Card test should check the credit card payment process&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:61615,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await updateDatabaseTransactionType(&#x27;pay&#x27;, &#x27;wirecardElasticEngineCreditCardTransactionType&#x27;);\nawait loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/genusswelten/tees-und-zubeh/tee-zubehoer/24/glas-teekaennchen&#x27;);\nawait selectPaymentMethod(driver, paymentLabel);\n// Confirm order\nconsole.log(&#x27;click button confirm--form&#x27;);\nawait driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\n// Fill out credit card iframe\nconsole.log(&#x27;wait for .wirecard-seamless-frame&#x27;);\nawait driver.wait(until.elementLocated(By.className(&#x27;wirecard-seamless-frame&#x27;)), 20000);\nconsole.log(&#x27;wait for switch to iframe .wirecard-seamless-frame&#x27;);\nawait driver.wait(until.ableToSwitchToFrame(By.className(&#x27;wirecard-seamless-frame&#x27;)));\nconsole.log(&#x27;wait for #account_number&#x27;);\nawait driver.wait(until.elementLocated(By.id(&#x27;account_number&#x27;)), 20000);\nawait asyncForEach(Object.keys(formFields), async field =&gt; {\n    console.log(`setting ${field} to ${formFields[field]}`);\n    await driver.findElement(By.id(field)).sendKeys(formFields[field]);\n});\n// Switch back from iframe and click Send button\nconsole.log(&#x27;switch back from iframe to default content&#x27;);\nawait driver.switchTo().defaultContent();\nconsole.log(&#x27;wait for #wirecardee-credit-card--form-submit&#x27;);\nawait driver.wait(until.elementLocated(By.id(&#x27;wirecardee-credit-card--form-submit&#x27;)));\nconsole.log(&#x27;click #wirecardee-credit-card--form-submit&#x27;);\nawait driver.findElement(By.id(&#x27;wirecardee-credit-card--form-submit&#x27;)).click();\nawait checkConfirmationPage(driver, paymentLabel);\ncheckTransactionTypeInDatabase(&#x27;purchase&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f869bbec-1f6a-4095-8cd7-cabf0cf8392a&quot;,&quot;parentUUID&quot;:&quot;ccf448ef-1eac-455d-a142-c9fcc547dfce&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f869bbec-1f6a-4095-8cd7-cabf0cf8392a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:61615,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000000},{&quot;uuid&quot;:&quot;992629df-24f6-426c-b18f-b527adac9422&quot;,&quot;title&quot;:&quot;Credit Card One-Click Checkout test&quot;,&quot;fullFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/Tests/Selenium/Payments/CreditCardOneClickTest.js&quot;,&quot;file&quot;:&quot;/Tests/Selenium/Payments/CreditCardOneClickTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Credit Card One-Click Checkout test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6712,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver = await getDriver(&#x27;credit card one click&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c60809b7-8ec1-4bae-a18f-1a21caaa091f&quot;,&quot;parentUUID&quot;:&quot;992629df-24f6-426c-b18f-b527adac9422&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Credit Card One-Click Checkout test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2750,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.quit()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8e610661-2ea9-4b76-b291-bff95892aa8e&quot;,&quot;parentUUID&quot;:&quot;992629df-24f6-426c-b18f-b527adac9422&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should check the credit card one-click payment process&quot;,&quot;fullTitle&quot;:&quot;Credit Card One-Click Checkout test should check the credit card one-click payment process&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:52744,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/genusswelten/tees-und-zubeh/tee-zubehoer/24/glas-teekaennchen&#x27;);\nawait selectPaymentMethod(driver, paymentLabel);\n// Make a purchase using new credit card\nconsole.log(&#x27;click #wirecardee--save-token&#x27;);\nawait driver.findElement(By.id(&#x27;wirecardee--save-token&#x27;)).click();\nconsole.log(&#x27;click button confirm--form&#x27;);\nawait driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\nconsole.log(&#x27;wait for .wirecard-seamless-frame&#x27;);\nawait driver.wait(until.elementLocated(By.className(&#x27;wirecard-seamless-frame&#x27;)), 20000);\nconsole.log(&#x27;wait for switch to iframe .wirecard-seamless-frame&#x27;);\nawait driver.wait(until.ableToSwitchToFrame(By.className(&#x27;wirecard-seamless-frame&#x27;)));\nconsole.log(&#x27;wait for #account_number&#x27;);\nawait driver.wait(until.elementLocated(By.id(&#x27;account_number&#x27;)), 20000);\nawait asyncForEach(Object.keys(formFields), async field =&gt; {\n    console.log(`setting ${field} to ${formFields[field]}`);\n    await driver.findElement(By.id(field)).sendKeys(formFields[field]);\n});\nconsole.log(&#x27;switch back from iframe to default content&#x27;);\nawait driver.switchTo().defaultContent();\nconsole.log(&#x27;wait for #wirecardee-credit-card--form-submit&#x27;);\nawait driver.wait(until.elementLocated(By.id(&#x27;wirecardee-credit-card--form-submit&#x27;)));\nconsole.log(&#x27;click #wirecardee-credit-card--form-submit&#x27;);\nawait driver.findElement(By.id(&#x27;wirecardee-credit-card--form-submit&#x27;)).click();\nawait checkConfirmationPage(driver, paymentLabel);\n// Make a purchase using existing credit card\nawait loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/genusswelten/tees-und-zubeh/tee-zubehoer/24/glas-teekaennchen&#x27;);\nawait selectPaymentMethod(driver, paymentLabel);\nawait driver.findElement(By.id(&#x27;wirecardee--token-&#x27; + tokenId)).click();\nconsole.log(&#x27;click button confirm--form&#x27;);\nawait driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\nawait checkConfirmationPage(driver, paymentLabel);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a0351dfb-7586-499b-abe4-47d49e61f94f&quot;,&quot;parentUUID&quot;:&quot;992629df-24f6-426c-b18f-b527adac9422&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a0351dfb-7586-499b-abe4-47d49e61f94f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:52744,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000000},{&quot;uuid&quot;:&quot;9a5c10d7-9231-4d8d-99b5-75dea1adbf3e&quot;,&quot;title&quot;:&quot;SEPA Direct Debit test&quot;,&quot;fullFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/Tests/Selenium/Payments/SepaTest.js&quot;,&quot;file&quot;:&quot;/Tests/Selenium/Payments/SepaTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;SEPA Direct Debit test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11748,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver = await getDriver(&#x27;sepa&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1f5e7d37-fec8-4dc8-a5cb-86b42b527bae&quot;,&quot;parentUUID&quot;:&quot;9a5c10d7-9231-4d8d-99b5-75dea1adbf3e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;SEPA Direct Debit test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2011,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.quit()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6bd0804c-2e83-48aa-acda-02fc07658d3c&quot;,&quot;parentUUID&quot;:&quot;9a5c10d7-9231-4d8d-99b5-75dea1adbf3e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should check the sepa payment process&quot;,&quot;fullTitle&quot;:&quot;SEPA Direct Debit test should check the sepa payment process&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:34378,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/genusswelten/tees-und-zubeh/tee-zubehoer/24/glas-teekaennchen&#x27;);\nawait selectPaymentMethod(driver, paymentLabel);\n// Fill sepa fields\nawait asyncForEach(Object.keys(formFields), async field =&gt; {\n    await driver.findElement(By.id(field)).sendKeys(formFields[field]);\n});\n// Confirm order\nconsole.log(&#x27;click button confirm--form&#x27;);\nawait driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\n// Confirm sepa mandate in modal dialog\nconsole.log(&#x27;wait for .wirecardee--sepa-mandate&#x27;);\nawait driver.wait(until.elementLocated(By.className(&#x27;wirecardee--sepa-mandate&#x27;)), 10000);\nconsole.log(&#x27;click .wirecardee-sepa--confirm-check&#x27;);\nawait driver.findElement(By.id(&#x27;wirecardee-sepa--confirm-check&#x27;)).click();\nconsole.log(&#x27;click .wirecardee-sepa--confirm-button&#x27;);\nawait driver.findElement(By.id(&#x27;wirecardee-sepa--confirm-button&#x27;)).click();\nawait checkConfirmationPage(driver, paymentLabel);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;207ef94e-a303-4b09-8abe-2a880448d5e5&quot;,&quot;parentUUID&quot;:&quot;9a5c10d7-9231-4d8d-99b5-75dea1adbf3e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;207ef94e-a303-4b09-8abe-2a880448d5e5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:34378,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000000},{&quot;uuid&quot;:&quot;7295f877-d538-421b-9183-548457b83a37&quot;,&quot;title&quot;:&quot;Sofort. test&quot;,&quot;fullFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/Tests/Selenium/Payments/SofortTest.js&quot;,&quot;file&quot;:&quot;/Tests/Selenium/Payments/SofortTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Sofort. test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9966,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver = await getDriver(&#x27;sofort&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8eb66130-bf11-483f-9593-f8d41ebbac69&quot;,&quot;parentUUID&quot;:&quot;7295f877-d538-421b-9183-548457b83a37&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Sofort. test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1867,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.quit()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eb5b13c7-3497-499b-831a-c325e3c3180e&quot;,&quot;parentUUID&quot;:&quot;7295f877-d538-421b-9183-548457b83a37&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should check the sofort payment process&quot;,&quot;fullTitle&quot;:&quot;Sofort. test should check the sofort payment process&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:55587,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/genusswelten/tees-und-zubeh/tee-zubehoer/24/glas-teekaennchen&#x27;);\nawait selectPaymentMethod(driver, paymentLabel);\n// Confirm order\nconsole.log(&#x27;click button confirm--form&#x27;);\nawait driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\n// Wait for Sofort. page and fill out forms\nconsole.log(&#x27;wait for #MultipaysSessionSenderCountryId&#x27;);\nawait driver.wait(until.elementLocated(By.id(&#x27;MultipaysSessionSenderCountryId&#x27;)), 20000);\nawait driver.findElement(By.css(&#x27;#MultipaysSessionSenderCountryId &gt; option[value=\\&#x27;AT\\&#x27;]&#x27;)).click();\nawait driver.findElement(By.id(&#x27;BankCodeSearch&#x27;)).sendKeys(formFields.bankCode);\nconsole.log(&#x27;wait for .js-bank-searcher-result-list&#x27;);\nawait driver.wait(until.elementLocated(By.className(&#x27;js-bank-searcher-result-list&#x27;)), 5000);\nawait driver.findElement(By.css(&#x27;button.primary&#x27;)).click();\nconsole.log(&#x27;wait for #BackendFormLOGINNAMEUSERID&#x27;);\nawait driver.wait(until.elementLocated(By.id(&#x27;BackendFormLOGINNAMEUSERID&#x27;)), 20000);\nawait driver.findElement(By.id(&#x27;BackendFormLOGINNAMEUSERID&#x27;)).sendKeys(formFields.userId);\nawait driver.findElement(By.id(&#x27;BackendFormUSERPIN&#x27;)).sendKeys(formFields.password, Key.ENTER);\nconsole.log(&#x27;wait for #account-1&#x27;);\nawait driver.wait(until.elementLocated(By.id(&#x27;account-1&#x27;)), 20000);\nawait driver.findElement(By.id(&#x27;account-1&#x27;)).click();\nawait driver.findElement(By.css(&#x27;button.primary&#x27;)).click();\nconsole.log(&#x27;wait for #BackendFormTAN&#x27;);\nawait driver.wait(until.elementLocated(By.id(&#x27;BackendFormTAN&#x27;)), 20000);\nawait driver.findElement(By.id(&#x27;BackendFormTAN&#x27;)).sendKeys(formFields.tan, Key.ENTER);\nawait waitForAlert(driver, 20000);\nawait checkConfirmationPage(driver, paymentLabel);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;867cf1aa-19b7-40a0-90aa-3cfb81b0c316&quot;,&quot;parentUUID&quot;:&quot;7295f877-d538-421b-9183-548457b83a37&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;867cf1aa-19b7-40a0-90aa-3cfb81b0c316&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:55587,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000000},{&quot;uuid&quot;:&quot;39961fc4-afbd-4933-b253-9dcc4dc7cf01&quot;,&quot;title&quot;:&quot;Payment on Invoice test&quot;,&quot;fullFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/Tests/Selenium/Payments/PoiTest.js&quot;,&quot;file&quot;:&quot;/Tests/Selenium/Payments/PoiTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Payment on Invoice test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7599,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver = await getDriver(&#x27;poi&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bf7f86ba-1b6f-4ef9-ace6-319bf8aabc3e&quot;,&quot;parentUUID&quot;:&quot;39961fc4-afbd-4933-b253-9dcc4dc7cf01&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Payment on Invoice test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1773,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.quit()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ad29b81a-9cb8-42c0-94f0-a43159e122af&quot;,&quot;parentUUID&quot;:&quot;39961fc4-afbd-4933-b253-9dcc4dc7cf01&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should check the poi payment process&quot;,&quot;fullTitle&quot;:&quot;Payment on Invoice test should check the poi payment process&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24541,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/genusswelten/tees-und-zubeh/tee-zubehoer/24/glas-teekaennchen&#x27;);\nawait selectPaymentMethod(driver, paymentLabel);\n// Confirm order\nconsole.log(&#x27;click button confirm--form&#x27;);\nawait driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\nawait checkConfirmationPage(driver, paymentLabel);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;82d15e62-2dd2-48cc-b5ef-183e5dc71e94&quot;,&quot;parentUUID&quot;:&quot;39961fc4-afbd-4933-b253-9dcc4dc7cf01&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;82d15e62-2dd2-48cc-b5ef-183e5dc71e94&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:24541,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000000},{&quot;uuid&quot;:&quot;011d3b8b-8c83-4ec6-a035-564e6bc89251&quot;,&quot;title&quot;:&quot;UnionPay International test&quot;,&quot;fullFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/Tests/Selenium/Payments/UpiTest.js&quot;,&quot;file&quot;:&quot;/Tests/Selenium/Payments/UpiTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;UnionPay International test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7521,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver = await getDriver(&#x27;upi&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;074828c7-221c-4852-a883-85280121cf28&quot;,&quot;parentUUID&quot;:&quot;011d3b8b-8c83-4ec6-a035-564e6bc89251&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;UnionPay International test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1831,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.quit()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;900a1e49-f229-444d-b705-d9e819a07bb4&quot;,&quot;parentUUID&quot;:&quot;011d3b8b-8c83-4ec6-a035-564e6bc89251&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should check the unionpay international payment process&quot;,&quot;fullTitle&quot;:&quot;UnionPay International test should check the unionpay international payment process&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:31992,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/genusswelten/tees-und-zubeh/tee-zubehoer/24/glas-teekaennchen&#x27;);\nawait selectPaymentMethod(driver, paymentLabel);\n// Confirm order\nconsole.log(&#x27;click button confirm--form&#x27;);\nawait driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\n// Fill out credit card iframe\nconsole.log(&#x27;wait for .wirecard-seamless-frame&#x27;);\nawait driver.wait(until.elementLocated(By.className(&#x27;wirecard-seamless-frame&#x27;)), 20000);\nconsole.log(&#x27;wait for switch to iframe .wirecard-seamless-frame&#x27;);\nawait driver.wait(until.ableToSwitchToFrame(By.className(&#x27;wirecard-seamless-frame&#x27;)));\nconsole.log(&#x27;wait for #account_number&#x27;);\nawait driver.wait(until.elementLocated(By.id(&#x27;account_number&#x27;)), 20000);\nawait asyncForEach(Object.keys(formFields), async field =&gt; {\n    console.log(`setting ${field} to ${formFields[field]}`);\n    await driver.findElement(By.id(field)).sendKeys(formFields[field]);\n});\nawait driver.findElement(By.css(&#x27;#expiration_month_list &gt; option[value=\\&#x27;01\\&#x27;]&#x27;)).click();\nawait driver.findElement(By.css(&#x27;#expiration_year_list &gt; option[value=\\&#x27;2030\\&#x27;]&#x27;)).click();\n// Switch back from iframe and click Send button\nconsole.log(&#x27;switch back from iframe to default content&#x27;);\nawait driver.switchTo().defaultContent();\nconsole.log(&#x27;wait for #wirecardee-credit-card--form-submit&#x27;);\nawait driver.wait(until.elementLocated(By.id(&#x27;wirecardee-credit-card--form-submit&#x27;)));\nconsole.log(&#x27;click #wirecardee-credit-card--form-submit&#x27;);\nawait driver.findElement(By.id(&#x27;wirecardee-credit-card--form-submit&#x27;)).click();\nawait checkConfirmationPage(driver, paymentLabel);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2bc6a29f-78db-4d6d-8ede-e5c292b11049&quot;,&quot;parentUUID&quot;:&quot;011d3b8b-8c83-4ec6-a035-564e6bc89251&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2bc6a29f-78db-4d6d-8ede-e5c292b11049&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:31992,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000000},{&quot;uuid&quot;:&quot;e3d7f51e-41a3-493e-b6bb-8b80ec75cd98&quot;,&quot;title&quot;:&quot;Credit Card 3-D Secure Authorization test&quot;,&quot;fullFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/Tests/Selenium/Payments/CreditCardThreeDAuthorizationTest.js&quot;,&quot;file&quot;:&quot;/Tests/Selenium/Payments/CreditCardThreeDAuthorizationTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Credit Card 3-D Secure Authorization test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6856,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver = await getDriver(&#x27;credit card 3ds authorization&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3184c82c-652f-4a4d-9634-19d86208edc8&quot;,&quot;parentUUID&quot;:&quot;e3d7f51e-41a3-493e-b6bb-8b80ec75cd98&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Credit Card 3-D Secure Authorization test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1968,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.quit()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e1336a82-5a31-4c6a-b1c0-d93af4d7464b&quot;,&quot;parentUUID&quot;:&quot;e3d7f51e-41a3-493e-b6bb-8b80ec75cd98&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should check the credit card 3ds authorization payment process&quot;,&quot;fullTitle&quot;:&quot;Credit Card 3-D Secure Authorization test should check the credit card 3ds authorization payment process&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:87980,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await updateDatabaseTransactionType(&#x27;reserve&#x27;, &#x27;wirecardElasticEngineCreditCardTransactionType&#x27;);\nawait loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/wohnwelten/moebel/68/kommode-shabby-chic&#x27;);\nawait selectPaymentMethod(driver, paymentLabel);\ntry {\n    // Do not use saved card\n    console.log(&#x27;click #wirecardee--token-no-card&#x27;);\n    await driver.findElement(By.id(&#x27;wirecardee--token-no-card&#x27;)).click();\n    // Confirm order\n    console.log(&#x27;click button confirm--form&#x27;);\n    await driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\n    // Fill out credit card iframe\n    console.log(&#x27;wait for .wirecard-seamless-frame&#x27;);\n    await driver.wait(until.elementLocated(By.className(&#x27;wirecard-seamless-frame&#x27;)), 20000);\n    console.log(&#x27;wait for switch to iframe .wirecard-seamless-frame&#x27;);\n    await driver.wait(until.ableToSwitchToFrame(By.className(&#x27;wirecard-seamless-frame&#x27;)));\n    console.log(&#x27;wait for #account_number&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;account_number&#x27;)), 20000);\n    await asyncForEach(Object.keys(formFields), async field =&gt; {\n        await driver.findElement(By.id(field)).sendKeys(formFields[field]);\n    });\n    // Switch back from iframe and click Send button\n    console.log(&#x27;switch back from iframe to default content&#x27;);\n    await driver.switchTo().defaultContent();\n    console.log(&#x27;wait for #wirecardee-credit-card--form-submit&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;wirecardee-credit-card--form-submit&#x27;)), 10000);\n    console.log(&#x27;click #wirecardee-credit-card--form-submit&#x27;);\n    await driver.findElement(By.id(&#x27;wirecardee-credit-card--form-submit&#x27;)).click();\n    console.log(&#x27;wait for #password&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;password&#x27;)), 20000);\n    await driver.findElement(By.id(&#x27;password&#x27;)).sendKeys(config.payments.creditCardThreeD.password, Key.ENTER);\n    await waitForAlert(driver, 20000);\n    await checkConfirmationPage(driver, paymentLabel);\n} catch (e) {\n    // Confirm order\n    console.log(&#x27;click button confirm--form&#x27;);\n    await driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\n    // Fill out credit card iframe\n    console.log(&#x27;wait for .wirecard-seamless-frame&#x27;);\n    await driver.wait(until.elementLocated(By.className(&#x27;wirecard-seamless-frame&#x27;)), 20000);\n    console.log(&#x27;wait for switch to iframe .wirecard-seamless-frame&#x27;);\n    await driver.wait(until.ableToSwitchToFrame(By.className(&#x27;wirecard-seamless-frame&#x27;)));\n    console.log(&#x27;wait for #account_number&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;account_number&#x27;)), 20000);\n    await asyncForEach(Object.keys(formFields), async field =&gt; {\n        await driver.findElement(By.id(field)).sendKeys(formFields[field]);\n    });\n    await driver.findElement(By.css(&#x27;#expiration_month_list &gt; option[value=\\&#x27;01\\&#x27;]&#x27;)).click();\n    await driver.findElement(By.css(&#x27;#expiration_year_list &gt; option[value=\\&#x27;2023\\&#x27;]&#x27;)).click();\n    // Switch back from iframe and click Send button\n    console.log(&#x27;switch back from iframe to default content&#x27;);\n    await driver.switchTo().defaultContent();\n    console.log(&#x27;wait for #wirecardee-credit-card--form-submit&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;wirecardee-credit-card--form-submit&#x27;)), 10000);\n    console.log(&#x27;click #wirecardee-credit-card--form-submit&#x27;);\n    await driver.findElement(By.id(&#x27;wirecardee-credit-card--form-submit&#x27;)).click();\n    console.log(&#x27;wait for #password&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;password&#x27;)), 20000);\n    await driver.findElement(By.id(&#x27;password&#x27;)).sendKeys(config.payments.creditCardThreeD.password, Key.ENTER);\n    await waitForAlert(driver, 20000);\n    await checkConfirmationPage(driver, paymentLabel);\n}\ncheckTransactionTypeInDatabase(&#x27;authorization&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b14264eb-15c5-4f09-b1b9-0f4740626e51&quot;,&quot;parentUUID&quot;:&quot;e3d7f51e-41a3-493e-b6bb-8b80ec75cd98&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b14264eb-15c5-4f09-b1b9-0f4740626e51&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:87980,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000000},{&quot;uuid&quot;:&quot;7099b5d4-6870-43af-801a-a21afd004541&quot;,&quot;title&quot;:&quot;Alipay Cross-border test&quot;,&quot;fullFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/Tests/Selenium/Payments/AlipayTest.js&quot;,&quot;file&quot;:&quot;/Tests/Selenium/Payments/AlipayTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Alipay Cross-border test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5872,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver = await getDriver(&#x27;alipay&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a8081764-d8b3-4b62-8fba-20f8a3e3a83c&quot;,&quot;parentUUID&quot;:&quot;7099b5d4-6870-43af-801a-a21afd004541&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Alipay Cross-border test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2101,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.quit()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;49bbd75b-f19c-4a69-aedd-d290264dbf75&quot;,&quot;parentUUID&quot;:&quot;7099b5d4-6870-43af-801a-a21afd004541&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should check the alipay crossborder payment process&quot;,&quot;fullTitle&quot;:&quot;Alipay Cross-border test should check the alipay crossborder payment process&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:39013,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/genusswelten/tees-und-zubeh/tee-zubehoer/24/glas-teekaennchen&#x27;);\nawait selectPaymentMethod(driver, paymentLabel);\n// Confirm order\nconsole.log(&#x27;click button confirm--form&#x27;);\nawait driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\nconsole.log(&#x27;wait for .payAmount-area&#x27;);\nawait driver.wait(until.elementLocated(By.css(&#x27;.payAmount-area&#x27;)), 20000);\nconst paymentContent = await driver.findElement(By.css(&#x27;.payAmount-area&#x27;)).getText();\nexpect(paymentContent).to.include(&#x27;70.99 EUR&#x27;);\n// We cannot perform the full payment process because of a captcha at Alipay login page\n/*\nawait driver.wait(until.elementLocated(By.css(&#x27;.mi-input-account&#x27;)), 20000);\nawait driver.findElement(By.css(&#x27;.mi-input-account&#x27;)).sendKeys(formFields.email);\nawait driver.findElement(By.id(&#x27;payPasswd_rsainput&#x27;)).sendKeys(formFields.password);\nconsole.log(&#x27;wait for .sixDigitPassword&#x27;);\nawait driver.wait(until.elementLocated(By.css(&#x27;.sixDigitPassword&#x27;)), 15000);\nawait driver.findElement(By.css(&#x27;.sixDigitPassword i&#x27;)).sendKeys(formFields.paymentPasswordDigit);\nawait driver.findElement(By.id(&#x27;J_authSubmit&#x27;)).click();\nawait waitForAlert(driver, 20000);\nawait checkConfirmationPage(driver, paymentLabel);\n*/&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d253f1f7-43e5-4e85-8cc5-164eb15b9922&quot;,&quot;parentUUID&quot;:&quot;7099b5d4-6870-43af-801a-a21afd004541&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d253f1f7-43e5-4e85-8cc5-164eb15b9922&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:39013,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000000},{&quot;uuid&quot;:&quot;32f2304a-764d-4d4b-ac3d-9fb085665466&quot;,&quot;title&quot;:&quot;PayPal test&quot;,&quot;fullFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/Tests/Selenium/Payments/PaypalTest.js&quot;,&quot;file&quot;:&quot;/Tests/Selenium/Payments/PaypalTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;PayPal test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5549,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver = await getDriver(&#x27;paypal&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8cf5973d-833f-4dd4-bfb4-ff12222b9b5e&quot;,&quot;parentUUID&quot;:&quot;32f2304a-764d-4d4b-ac3d-9fb085665466&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;PayPal test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1658,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.quit()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5707806c-5688-4e4d-bfef-809c0fc4f1dc&quot;,&quot;parentUUID&quot;:&quot;32f2304a-764d-4d4b-ac3d-9fb085665466&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should check the paypal payment process&quot;,&quot;fullTitle&quot;:&quot;PayPal test should check the paypal payment process&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:78929,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/genusswelten/tees-und-zubeh/tee-zubehoer/24/glas-teekaennchen&#x27;);\nawait selectPaymentMethod(driver, paymentLabel);\n// Confirm order\nconsole.log(&#x27;click button confirm--form&#x27;);\nawait driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\ntry {\n    console.log(&#x27;wait for #email&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;email&#x27;)), 10000);\n    await driver.findElement(By.id(&#x27;email&#x27;)).sendKeys(formFields.email);\n    console.log(&#x27;wait for #password&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;password&#x27;)), 10000);\n    await driver.findElement(By.id(&#x27;password&#x27;)).sendKeys(payPalPassword[&#x27;paypal.password&#x27;], Key.ENTER);\n    console.log(&#x27;wait for #acceptAllButton&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;acceptAllButton&#x27;)));\n    console.log(&#x27;#acceptAllButton located&#x27;);\n    await driver.findElement(By.id(&#x27;acceptAllButton&#x27;)).click();\n    console.log(&#x27;#acceptAllButton clicked&#x27;);\n    console.log(&#x27;wait for #payment-submit-btn&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;payment-submit-btn&#x27;)));\n    console.log(&#x27;#payment-submit-btn located&#x27;);\n    console.log(&#x27;wait for #payment-submit-btn clickable&#x27;);\n    await driver.sleep(10000);\n    console.log(&#x27;click #payment-submit-btn&#x27;);\n    await driver.findElement(By.id(&#x27;payment-submit-btn&#x27;)).click();\n    console.log(&#x27;#payment-submit-btn clicked&#x27;);\n    await waitForAlert(driver, 25000);\n    await checkConfirmationPage(driver, paymentLabel);\n} catch (e) {\n    console.log(&#x27;wait for #btnNext&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;btnNext&#x27;)), 10000);\n    console.log(&#x27;wait for #email&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;email&#x27;)), 10000);\n    await driver.findElement(By.id(&#x27;email&#x27;)).sendKeys(Key.ENTER);\n    await waitUntilOverlayIsNotVisible(driver, By.className(&#x27;spinnerWithLockIcon&#x27;));\n    console.log(&#x27;wait for #btnLogin&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;btnLogin&#x27;)), 25000);\n    console.log(&#x27;wait for #password&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;password&#x27;)), 10000);\n    await driver.findElement(By.id(&#x27;password&#x27;)).sendKeys(payPalPassword[&#x27;paypal.password&#x27;], Key.ENTER);\n    await waitUntilOverlayIsNotVisible(driver, By.id(&#x27;preloaderSpinner&#x27;));\n    console.log(&#x27;wait for #acceptAllButton&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;acceptAllButton&#x27;)));\n    console.log(&#x27;#acceptAllButton located&#x27;);\n    await driver.findElement(By.id(&#x27;acceptAllButton&#x27;)).click();\n    console.log(&#x27;#acceptAllButton clicked&#x27;);\n    console.log(&#x27;wait for #payment-submit-btn&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;payment-submit-btn&#x27;)), 25000);\n    await waitUntilOverlayIsNotVisible(driver, By.id(&#x27;preloaderSpinner&#x27;));\n    console.log(&#x27;wait for #payment-submit-btn clickable&#x27;);\n    await driver.sleep(10000);\n    console.log(&#x27;click #payment-submit-btn&#x27;);\n    await driver.wait(driver.findElement(By.id(&#x27;payment-submit-btn&#x27;)).click(), 10000);\n    await waitForAlert(driver, 25000);\n    await checkConfirmationPage(driver, paymentLabel);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;256e090f-51a1-44f2-8f93-376b8fa9d97f&quot;,&quot;parentUUID&quot;:&quot;32f2304a-764d-4d4b-ac3d-9fb085665466&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;256e090f-51a1-44f2-8f93-376b8fa9d97f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:78929,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000000},{&quot;uuid&quot;:&quot;8c122b7c-9bed-46a4-ba8c-94232e13394e&quot;,&quot;title&quot;:&quot;iDEAL test&quot;,&quot;fullFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/Tests/Selenium/Payments/IdealTest.js&quot;,&quot;file&quot;:&quot;/Tests/Selenium/Payments/IdealTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;iDEAL test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5845,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver = await getDriver(&#x27;ideal&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;260b1351-95a0-4cbd-9f66-0c283fc6175f&quot;,&quot;parentUUID&quot;:&quot;8c122b7c-9bed-46a4-ba8c-94232e13394e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;iDEAL test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2250,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.quit()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;06d6efbb-988b-41ac-952b-e5f0a050612f&quot;,&quot;parentUUID&quot;:&quot;8c122b7c-9bed-46a4-ba8c-94232e13394e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should check the ideal payment process&quot;,&quot;fullTitle&quot;:&quot;iDEAL test should check the ideal payment process&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:36377,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/genusswelten/tees-und-zubeh/tee-zubehoer/24/glas-teekaennchen&#x27;);\nawait selectPaymentMethod(driver, paymentLabel);\n// Select ideal bank\nconsole.log(&#x27;select &#x27; + idealBank + &#x27; option&#x27;);\nawait driver.findElement(By.css(&#x27;option[value=\\&#x27;&#x27; + idealBank + &#x27;\\&#x27;]&#x27;)).click();\n// Confirm order\nconsole.log(&#x27;click button confirm--form&#x27;);\nawait driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\nconsole.log(&#x27;wait for form .btnLink&#x27;);\nawait driver.wait(until.elementLocated(By.css(&#x27;form .btnLink&#x27;)), 20000);\nawait driver.findElement(By.css(&#x27;form .btnLink&#x27;)).click();\nawait checkConfirmationPage(driver, paymentLabel);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5922ad9a-1700-428e-a1b1-b836768b2f3e&quot;,&quot;parentUUID&quot;:&quot;8c122b7c-9bed-46a4-ba8c-94232e13394e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5922ad9a-1700-428e-a1b1-b836768b2f3e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:36377,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000000},{&quot;uuid&quot;:&quot;d9e28818-9420-46bf-817c-ceed1dc6620d&quot;,&quot;title&quot;:&quot;Guaranteed Invoice by Wirecard test&quot;,&quot;fullFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/Tests/Selenium/Payments/RatepayTest.js&quot;,&quot;file&quot;:&quot;/Tests/Selenium/Payments/RatepayTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Guaranteed Invoice by Wirecard test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6043,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver = await getDriver(&#x27;ratepay&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9f6671c8-ae49-44e0-95a8-ed9c62a02058&quot;,&quot;parentUUID&quot;:&quot;d9e28818-9420-46bf-817c-ceed1dc6620d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Guaranteed Invoice by Wirecard test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2103,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.quit()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9852f700-6914-46c8-b3c5-fefe7ffaad57&quot;,&quot;parentUUID&quot;:&quot;d9e28818-9420-46bf-817c-ceed1dc6620d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should check the ratepay invoice process&quot;,&quot;fullTitle&quot;:&quot;Guaranteed Invoice by Wirecard test should check the ratepay invoice process&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:34355,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/genusswelten/tees-und-zubeh/tee-zubehoer/24/glas-teekaennchen&#x27;);\nconsole.log(&#x27;change shipping address&#x27;);\nawait driver.findElement(By.css(&#x27;.information--panel-item-shipping a[data-address-selection=\&quot;true\&quot;]&#x27;)).click();\nawait waitUntilOverlayIsStale(driver, By.className(&#x27;js--overlay&#x27;));\nconsole.log(&#x27;wait for .address-manager--selection-form&#x27;);\nawait driver.wait(until.elementLocated(By.css(&#x27;.address-manager--selection-form&#x27;)));\nawait driver.findElement(By.css(&#x27;.address-manager--selection-form button&#x27;)).click();\nconsole.log(&#x27;wait for .choose-different-address&#x27;);\nawait driver.wait(until.elementLocated(By.className(&#x27;choose-different-address&#x27;)));\nawait selectPaymentMethod(driver, paymentLabel);\n// Select birthday\nconsole.log(&#x27;select birthday 1/1/2000 option&#x27;);\nawait driver.findElement(By.css(&#x27;.wirecardee--birthday-year option[value=\\&#x27;2000\\&#x27;]&#x27;)).click();\nconsole.log(&#x27;confirm terms&#x27;);\nawait driver.findElement(By.id(&#x27;wirecardee--tac&#x27;)).click();\n// Confirm order\nconsole.log(&#x27;click button confirm--form&#x27;);\nawait driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\nawait checkConfirmationPage(driver, paymentLabel);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f8a7a410-5775-44c6-bfd5-6fa719d7ce14&quot;,&quot;parentUUID&quot;:&quot;d9e28818-9420-46bf-817c-ceed1dc6620d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f8a7a410-5775-44c6-bfd5-6fa719d7ce14&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:34355,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000000},{&quot;uuid&quot;:&quot;68b28441-03e6-4854-abd0-bd197c304fc9&quot;,&quot;title&quot;:&quot;default test&quot;,&quot;fullFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/Tests/Selenium/Payments/DefaultTest.js&quot;,&quot;file&quot;:&quot;/Tests/Selenium/Payments/DefaultTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;default test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5361,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver = await getDriver(&#x27;default&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;242f4f24-0a3e-4dbe-af82-eafef02761db&quot;,&quot;parentUUID&quot;:&quot;68b28441-03e6-4854-abd0-bd197c304fc9&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;default test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2069,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.quit()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8d6b358f-514d-423c-b161-85459dfc23dc&quot;,&quot;parentUUID&quot;:&quot;68b28441-03e6-4854-abd0-bd197c304fc9&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should check the default checkout&quot;,&quot;fullTitle&quot;:&quot;default test should check the default checkout&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16156,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/genusswelten/tees-und-zubeh/tee-zubehoer/24/glas-teekaennchen&#x27;);\n// Go to payment selection page select \&quot;prepayment\&quot;\nawait driver.findElement(By.className(&#x27;btn--change-payment&#x27;)).click();\n// Check if all wirecard payments are present\nawait asyncForEach(wirecardPaymentLabels, async paymentLabel =&gt; {\n    await driver.findElement(By.xpath(\&quot;//*[contains(text(), &#x27;\&quot; + paymentLabel + \&quot;&#x27;)]\&quot;));\n});\nawait driver.findElement(By.xpath(\&quot;//*[contains(text(), &#x27;Vorkasse&#x27;)]\&quot;)).click();\n// Go back to checkout page and test if payment method has been selected\nawait waitUntilOverlayIsStale(driver, By.className(&#x27;js--overlay&#x27;));\nawait driver.findElement(By.className(&#x27;main--actions&#x27;)).click();\n// Check AGB and confirm order\nawait driver.findElement(By.id(&#x27;sAGB&#x27;)).click();\nconsole.log(&#x27;click button confirm--form&#x27;);\nawait driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\nawait checkConfirmationPage(driver, &#x27;Vorkasse&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dd503396-3e5c-4d0f-bbe4-a6d80defb2d9&quot;,&quot;parentUUID&quot;:&quot;68b28441-03e6-4854-abd0-bd197c304fc9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;dd503396-3e5c-4d0f-bbe4-a6d80defb2d9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:16156,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000000},{&quot;uuid&quot;:&quot;e9b4dbab-9ea7-426b-89bb-175b36193b2f&quot;,&quot;title&quot;:&quot;Credit Card 3-D Secure test&quot;,&quot;fullFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/Tests/Selenium/Payments/CreditCardThreeDTest.js&quot;,&quot;file&quot;:&quot;/Tests/Selenium/Payments/CreditCardThreeDTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Credit Card 3-D Secure test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6140,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver = await getDriver(&#x27;credit card 3ds&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cfb927a5-c6a4-47f8-8e51-110c90d9f393&quot;,&quot;parentUUID&quot;:&quot;e9b4dbab-9ea7-426b-89bb-175b36193b2f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Credit Card 3-D Secure test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1812,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.quit()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6f2bcb05-2209-477c-b197-82f9bbc84dd6&quot;,&quot;parentUUID&quot;:&quot;e9b4dbab-9ea7-426b-89bb-175b36193b2f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should check the credit card 3ds payment process&quot;,&quot;fullTitle&quot;:&quot;Credit Card 3-D Secure test should check the credit card 3ds payment process&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:86651,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await updateDatabaseTransactionType(&#x27;pay&#x27;, &#x27;wirecardElasticEngineCreditCardTransactionType&#x27;);\nawait loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/wohnwelten/moebel/68/kommode-shabby-chic&#x27;);\nawait selectPaymentMethod(driver, paymentLabel);\ntry {\n    // Do not use saved card\n    console.log(&#x27;click #wirecardee--token-no-card&#x27;);\n    await driver.findElement(By.id(&#x27;wirecardee--token-no-card&#x27;)).click();\n    // Confirm order\n    console.log(&#x27;click button confirm--form&#x27;);\n    await driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\n    // Fill out credit card iframe\n    console.log(&#x27;wait for .wirecard-seamless-frame&#x27;);\n    await driver.wait(until.elementLocated(By.className(&#x27;wirecard-seamless-frame&#x27;)), 20000);\n    console.log(&#x27;wait for switch to iframe .wirecard-seamless-frame&#x27;);\n    await driver.wait(until.ableToSwitchToFrame(By.className(&#x27;wirecard-seamless-frame&#x27;)));\n    console.log(&#x27;wait for #account_number&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;account_number&#x27;)), 20000);\n    await asyncForEach(Object.keys(formFields), async field =&gt; {\n        await driver.findElement(By.id(field)).sendKeys(formFields[field]);\n    });\n    // Switch back from iframe and click Send button\n    console.log(&#x27;switch back from iframe to default content&#x27;);\n    await driver.switchTo().defaultContent();\n    console.log(&#x27;wait for #wirecardee-credit-card--form-submit&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;wirecardee-credit-card--form-submit&#x27;)), 10000);\n    console.log(&#x27;click #wirecardee-credit-card--form-submit&#x27;);\n    await driver.findElement(By.id(&#x27;wirecardee-credit-card--form-submit&#x27;)).click();\n    console.log(&#x27;wait for #password&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;password&#x27;)), 20000);\n    await driver.findElement(By.id(&#x27;password&#x27;)).sendKeys(config.payments.creditCardThreeD.password, Key.ENTER);\n    await waitForAlert(driver, 20000);\n    await checkConfirmationPage(driver, paymentLabel);\n} catch (e) {\n    // Confirm order\n    console.log(&#x27;click button confirm--form&#x27;);\n    await driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\n    // Fill out credit card iframe\n    console.log(&#x27;wait for .wirecard-seamless-frame&#x27;);\n    await driver.wait(until.elementLocated(By.className(&#x27;wirecard-seamless-frame&#x27;)), 20000);\n    console.log(&#x27;wait for switch to iframe .wirecard-seamless-frame&#x27;);\n    await driver.wait(until.ableToSwitchToFrame(By.className(&#x27;wirecard-seamless-frame&#x27;)));\n    console.log(&#x27;wait for #account_number&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;account_number&#x27;)), 20000);\n    await asyncForEach(Object.keys(formFields), async field =&gt; {\n        await driver.findElement(By.id(field)).sendKeys(formFields[field]);\n    });\n    await driver.findElement(By.css(&#x27;#expiration_month_list &gt; option[value=\\&#x27;01\\&#x27;]&#x27;)).click();\n    await driver.findElement(By.css(&#x27;#expiration_year_list &gt; option[value=\\&#x27;2023\\&#x27;]&#x27;)).click();\n    // Switch back from iframe and click Send button\n    console.log(&#x27;switch back from iframe to default content&#x27;);\n    await driver.switchTo().defaultContent();\n    console.log(&#x27;wait for #wirecardee-credit-card--form-submit&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;wirecardee-credit-card--form-submit&#x27;)), 10000);\n    console.log(&#x27;click #wirecardee-credit-card--form-submit&#x27;);\n    await driver.findElement(By.id(&#x27;wirecardee-credit-card--form-submit&#x27;)).click();\n    console.log(&#x27;wait for #password&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;password&#x27;)), 20000);\n    await driver.findElement(By.id(&#x27;password&#x27;)).sendKeys(config.payments.creditCardThreeD.password, Key.ENTER);\n    await waitForAlert(driver, 20000);\n    await checkConfirmationPage(driver, paymentLabel);\n}\ncheckTransactionTypeInDatabase(&#x27;purchase&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4338a78b-de4d-4ace-a3d1-f3758be4307b&quot;,&quot;parentUUID&quot;:&quot;e9b4dbab-9ea7-426b-89bb-175b36193b2f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4338a78b-de4d-4ace-a3d1-f3758be4307b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:86651,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:6000000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;5.2.0&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;report&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;useInlineDiffs&quot;:false},&quot;version&quot;:&quot;4.0.1&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;id&quot;:&quot;default&quot;,&quot;reportFilename&quot;:&quot;report&quot;},&quot;version&quot;:&quot;4.1.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;report&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;WirecardElasticEngine&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report/assets&quot;,&quot;jsonFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/mochawesome-report/report.json&quot;,&quot;htmlFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/mochawesome-report/report.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>